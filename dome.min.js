var sites={Watch:{Plex:"https://app.plex.tv/desktop",Netflix:"https://www.netflix.com/browse",Twitch:"https://www.twitch.tv",YouTube:"https://www.youtube.com/"},Uni:{Canvas:"https://umich.instructure.com/login","EECS Gitlab":"https://gitlab.eecs.umich.edu/","eecs483.org":"https://piazza.com/umich/winter2020/eecs483/resources","eecs485.org":"https://eecs485staff.github.io/eecs485.org/",Gradescope:"https://www.gradescope.com/","Wolverine Access":"https://wolverineaccess.umich.edu"},IA:{Piazza:"https://piazza.com/class",MPrint:"https://mprint.umich.edu/","OH Queue":"https://lobster.eecs.umich.edu/eecsoh/","Drive (280)":"https://drive.google.com/drive/u/2/folders/1_AXJpe9W2qovqr68-KjcnyYMjukmykK5",Autograder:"https://autograder.io","eecs280.org":"https://eecs280staff.github.io/eecs280.org/"},Social:{Reddit:"https://www.reddit.com/",Twitter:"https://twitter.com/?lang=en",GitHub:"https://github.com/",GroupMe:"https://web.groupme.com/chats",Messenger:"https://www.messenger.com"},Productivity:{Keep:"https://keep.google.com",Drive:"https://drive.google.com/drive/u/2/my-drive",Calendar:"https://calendar.google.com",akminch:"https://mail.google.com/mail/u/2/","alec.minch":"https://mail.google.com/mail/u/0/",notathrowaway:"https://mail.google.com/mail/u/1/"},Misc:{Ally:"https://www.ally.com/",Fidelity:"https://www.fidelity.com/","Last.fm":"https://last.fm/user/Slarrty",Amazon:"https://www.amazon.com/",rateyourmusic:"https://rateyourmusic.com/"}};var search="https://google.com/search";var query="q";var pivotmatch=0;var totallinks=0;var prevregex="";function matchLinks(regex=prevregex){totallinks=0;pivotmatch=regex==prevregex?pivotmatch:0;prevregex=regex;pivotbuffer=pivotmatch;p=document.getElementById("links");while(p.firstChild){p.removeChild(p.firstChild)}gmatches=false;for(i=0;i<Object.keys(sites).length;i++){matches=false;sn=Object.keys(sites)[i];section=document.createElement("div");section.id=sn;section.innerHTML=sn;section.className="section";inner=document.createElement("div");for(l=0;l<Object.keys(sites[sn]).length;l++){ln=Object.keys(sites[sn])[l];if(ln.toLowerCase().includes(regex.toLowerCase())||regex.length==0){link=document.createElement("a");link.href=sites[sn][ln];link.innerHTML=ln;if(!pivotbuffer++&&regex!=""){link.className="selected";document.getElementById("action").action=sites[sn][ln];document.getElementById("action").children[0].removeAttribute("name")}inner.appendChild(link);matches=true;gmatches=true;totallinks++}}section.appendChild(inner);matches?p.appendChild(section):false}if(regex.match(/lh\s*\d{1,5}/)){document.getElementById("action").action="http://localhost:"+regex.match(/\d{1,5}/)[0];document.getElementById("action").children[0].name=""}else if(!regex.includes(" ")){replace_https=true;match=false;if(isValidURL(regex)){match=true}else if(isLocalhost(regex)||isValidIP(regex)){replace_https=false;match=true}if(match&&!regex.match(/http(s)?:\/\//g)){regex="http"+(replace_https?"s":"")+"://"+regex}document.getElementById("action").action=regex;document.getElementById("action").children[0].name=""}else if(!gmatches||regex==""){document.getElementById("action").action=search;document.getElementById("action").children[0].name=query}document.getElementById("main").style.height=document.getElementById("main").children[0].offsetHeight+"px"}document.onkeydown=function(e){if(e.keyCode==37||e.keyCode==38){pivotmatch=pivotmatch>=0?0:pivotmatch+1;matchLinks()}else if(e.keyCode==39||e.keyCode==40){pivotmatch=pivotmatch<=-totallinks+1?-totallinks+1:pivotmatch-1;matchLinks()}document.getElementById("action").children[0].focus()};document.getElementById("action").children[0].onkeypress=function(e){if(e.key=="ArrowDown"||e.key=="ArrowUp"){return false}};function displayClock(){now=new Date;clock=(now.getHours()<10?"0"+now.getHours():now.getHours())+":"+(now.getMinutes()<10?"0"+now.getMinutes():now.getMinutes())+":"+(now.getSeconds()<10?"0"+now.getSeconds():now.getSeconds());document.getElementById("clock").innerHTML=clock}function getRandomInt(min,max){min=Math.ceil(min);max=Math.floor(max);val=Math.floor(Math.random()*(max-min+1))+min;return val}function cycleColor(){new_hue=getRandomInt(10,360);document.getElementsByTagName("html")[0].style.setProperty("--base",new_hue)}var port_path="(:(([1-9]d{0,4})|0))?([-a-zA-Z0-9@:%_+.~#?&//=]*)";function isLocalhost(string){return string.match(new RegExp("localhost"+port_path))!=null}function isValidIP(string){return string.match(new RegExp("((([1-9]d{0,2})|0).){3}((([1-9]d{0,2})|0))"+port_path))!=null}function isValidURL(string){return string.match(new RegExp("(http(s)?://.)?(www.)?[-a-zA-Z0-9@:%._+~#=]{2,256}.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)"))!=null}window.onload=matchLinks();displayClock();cycleColor();setInterval(displayClock,1e3);
